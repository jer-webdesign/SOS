<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Assist Service</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <style>
    /* Modal positioning within tablet screen */
    .tablet-screen .modal {
      position: absolute !important;
      top: 80px; /* Start below header menu */
      left: 0;
      width: 100%;
      height: calc(100% - 80px); /* Exclude header height */
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.5);
      box-sizing: border-box;
    }

    .tablet-screen .modal .modal-content {
      margin-top: 0;
      max-height: calc(100vh - 160px); /* Account for header and spacing */
      overflow-y: auto;
    }

    /* Specific sizing for calendar modal to prevent header overlap */
    .tablet-screen #calendarModal .modal-content {
      max-width: 550px;
      max-height: none;
      height: auto;
      padding: 40px 20px 20px 20px;
      overflow-y: visible;
    }

    .tablet-screen #calendarModal .calendar-grid {
      max-height: none;
      overflow-y: visible;
    }

    /* Ensure header elements stay above modals */
    .header-menu {
      position: relative;
      z-index: 10003 !important;
    }

    /* Volume Control Styles */
    .volume-control {
      position: absolute;
      right: 50px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(51, 79, 138, 0.9);
      border-radius: 25px;
      padding: 20px 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 10500; /* Higher than emergency button and modals */
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .volume-slider-container {
      width: 50px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .volume-slider {
      writing-mode: bt-lr; /* IE */
      -webkit-appearance: slider-vertical; /* WebKit */
      appearance: slider-vertical; /* Standard */
      width: 200px;
      background: transparent;
      outline: none;
      transform: rotate(0deg);
      cursor: pointer;
    }

    .volume-slider::-webkit-slider-track {
      width: 300px;
      height: 100px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 25px;
    }

    .volume-slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 100px;
      height: 100px;
      background: #ffffff;
      border-radius: 100%;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    }

    .volume-slider::-moz-range-track {
      width: 300px;
      height: 100px;
      background: rgba(255, 255, 255, 0.3);
      border-radius: 100%;
      border: none;
    }

    .volume-slider::-moz-range-thumb {
      width: 100px;
      height: 100px;
      background: #ffffff;
      border-radius: 100%;
      cursor: pointer;
      border: none;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
    }

    .volume-icon {
      color: white;
      font-size: 30px;
    }

    .volume-level {
      color: white;
      font-size: 18px;
      font-weight: bold;
      min-width: 30px;
      text-align: center;
    }

    .header-back-button {
      position: relative;
      z-index: 1101 !important;
    }

    /* Add Assist Button Styles - Similar to emergency button */
    .add-assist-btn {
      position: fixed;
      top: 150px; /* Below the header menu */
      left: 100px; /* Top left corner */
      background: linear-gradient(135deg, #4c76a4, #2E5C8A);
      border: none;
      border-radius: 25px;
      padding: 15px 20px;
      color: white;
      font-size: 1.5rem;
      font-weight: 600;
      font-family: 'Inter', sans-serif;
      cursor: pointer;
      box-shadow: 0 6px 20px rgba(46, 92, 138, 0.4);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
    }

    .add-assist-btn:hover {
      background: linear-gradient(135deg, #4c76a4, #2E5C8A);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(46, 92, 138, 0.5);
    }

    .add-assist-btn .material-icons {
      font-size: 1.2rem;
    }

    /* Individual delete button for custom assist services */
    .add-btn.custom-service {
      position: relative;
    }

    .add-btn.custom-service .delete-x {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #dc2626;
      color: white;
      border: none;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: bold;
      cursor: pointer;
      z-index: 2;
      transition: all 0.2s ease;
    }

    .add-btn.custom-service .delete-x:hover {
      background: #b91c1c;
      transform: scale(1.1);
    }

    /* Modal button styles */
    .modal-btn-primary {
      background: linear-gradient(135deg, #2E5C8A, #4A7BB0) !important;
      color: white !important;
      border: none !important;
      padding: 20px 35px !important;
      border-radius: 25px !important;
      font-size: 1.3rem !important;
      font-weight: 700 !important;
      cursor: pointer !important;
      min-width: 160px !important;
      box-shadow: 0 6px 15px rgba(46, 92, 138, 0.4) !important;
      transition: all 0.3s ease !important;
      text-transform: uppercase !important;
    }

    .modal-btn-primary:hover {
      background: linear-gradient(135deg, #1A4A73, #2E5C8A) !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 8px 25px rgba(46, 92, 138, 0.6) !important;
    }

    .modal-btn-secondary {
      background: linear-gradient(135deg, #6b7280, #9ca3af) !important;
      color: white !important;
      border: none !important;
      padding: 20px 35px !important;
      border-radius: 25px !important;
      font-size: 1.3rem !important;
      font-weight: 700 !important;
      cursor: pointer !important;
      min-width: 160px !important;
      box-shadow: 0 6px 15px rgba(107, 114, 128, 0.4) !important;
      transition: all 0.3s ease !important;
      text-transform: uppercase !important;
    }

    .modal-btn-secondary:hover {
      background: linear-gradient(135deg, #4b5563, #6b7280) !important;
      transform: translateY(-2px) !important;
      box-shadow: 0 8px 25px rgba(107, 114, 128, 0.6) !important;
    }

    /* Reduced size buttons for 7+ buttons */
    .buttons-assist.compact {
      gap: 15px !important;
      margin-top: 2rem;
    }

    .buttons-assist.compact .add-btn {
      padding: 12px 16px !important;
      font-size: 2.2rem !important;
      min-height: 70px !important;
    }

    .buttons-assist.compact .assist-btn-icon {
      font-size: 3.5rem !important;
    }
  </style>
</head>
<body onload="loadItems()">
  <!-- Android Tablet Frame -->
  <div class="tablet-frame">
    <div class="tablet-screen">
      <!-- Header Menu -->
      <header class="header-menu">
        <div class="header-logo">
          <img src="sosLogo.png" alt="Seniors On Support Logo" class="header-logo-image">
          <!-- <span class="header-logo-text">Seniors On Support</span> -->
        </div>
        <h1 class="header-title">Assist Service</h1>
        <div class="header-datetime" id="headerDateTime"></div>
        <button onclick="window.location.href='index.html'" class="header-back-button">← Back</button>
      </header>
  <!-- <h1>Assist Service</h1> -->
  <div class="container">
    <div class="buttons-assist">
      <button class="add-btn" onclick="addItem('Need help with TV')">
        <span class="material-icons assist-btn-icon">tv</span>
        Need help with TV
      </button>
      <button class="add-btn" onclick="addItem('Lost item')">
        <span class="material-icons assist-btn-icon">search</span>
        Lost item
      </button>
      <button class="add-btn" onclick="addItem('Help with app')">
        <span class="material-icons assist-btn-icon">smartphone</span>
        Help with app
      </button>
      <button class="add-btn" onclick="addItem('Can\'t sleep')">
        <span class="material-icons assist-btn-icon">bedtime</span>
        Can't sleep
      </button>
    </div>
    <div class="cards" id="cards"></div>
  </div>

  <div class="modal" id="calendarModal" style="display:none">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('calendarModal')">✖</button>
      <h3 id="month-title"></h3>
      <div class="calendar-grid" id="calendar-grid">
        <div class="calendar-header">Mon</div>
        <div class="calendar-header">Tue</div>
        <div class="calendar-header">Wed</div>
        <div class="calendar-header">Thu</div>
        <div class="calendar-header">Fri</div>
        <div class="calendar-header">Sat</div>
        <div class="calendar-header">Sun</div>
        <!-- Calendar cells will be dynamically generated here -->
      </div>
    </div>
  </div>

  <div class="modal" id="timeModal" style="display:none">
    <div class="modal-content">
      <button class="close-btn" onclick="closeModal('timeModal')">✖</button>
      <h3>Select a time for <span id="selectedDateDisplay"></span></h3>
      <div class="time-grid" id="timeGrid"></div>
    </div>
  </div>

  <!-- Add Assist Service Modal -->
  <div class="modal" id="addAssistModal" style="display:none">
    <div class="modal-content">
      <button class="close-btn" onclick="closeAddAssistModal()">✖</button>
      <h3 style="color: #2E5C8A; font-size: 2.2rem; margin-bottom: 30px; text-align: center; font-weight: 700;">Add New Assist Service</h3>
      <div style="padding: 20px 0;">
        <label for="assistServiceName" style="display: block; font-size: 1.5rem; font-weight: 700; margin-bottom: 20px; color: #2E5C8A;">Service Description:</label>
        <input type="text" id="assistServiceName" placeholder="Enter what you need help with" style="width: 100%; padding: 20px; font-size: 1.3rem; border: 3px solid #2E5C8A; border-radius: 12px; margin-bottom: 40px; box-sizing: border-box; background: #f8f9fa; transition: border-color 0.3s ease; font-weight: 500;">
        
        <div style="display: flex; gap: 20px; justify-content: center;">
          <button onclick="addNewAssistService()" class="modal-btn-primary">Add Service</button>
          <button onclick="closeAddAssistModal()" class="modal-btn-secondary">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Limit Reached Modal -->
  <div class="modal" id="limitReachedModal" style="display:none">
    <div class="modal-content">
      <button class="close-btn" onclick="closeLimitReachedModal()">✖</button>
      <h3 style="color: #dc2626; font-size: 2.4rem; margin-bottom: 40px; text-align: center; font-weight: 700;">Too Many Services</h3>
      <div style="padding: 20px 0; text-align: center;">
        <p style="font-size: 1.8rem; color: #2E5C8A; margin-bottom: 40px; line-height: 1.6; font-weight: 600;">
          You can only have <strong style="color: #dc2626;">4 services</strong>.
        </p>
        <p style="font-size: 1.6rem; color: #4A7BB0; margin-bottom: 50px; line-height: 1.5; font-weight: 500;">
          To add a new service, please delete one first by clicking the red ✖ button.
        </p>
        <button onclick="closeLimitReachedModal()" style="background: linear-gradient(135deg, #dc2626, #b91c1c); color: white; border: none; padding: 25px 50px; border-radius: 25px; font-size: 1.5rem; font-weight: 700; cursor: pointer; min-width: 180px; box-shadow: 0 6px 15px rgba(220, 38, 38, 0.4); transition: all 0.3s ease; text-transform: uppercase;">OK</button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="modal" id="successModal" style="display:none">
    <div class="modal-content">
      <button class="close-btn" onclick="closeSuccessModal()">✖</button>
      <h3 style="color: #2E5C8A; font-size: 2.4rem; margin-bottom: 40px; text-align: center; font-weight: 700;">Service Added!</h3>
      <div style="padding: 20px 0; text-align: center;">
        <div style="margin-bottom: 40px;">
          <span class="material-icons" style="font-size: 4rem; color: #4A7BB0; margin-bottom: 20px;">check_circle</span>
        </div>
        <p id="successMessage" style="font-size: 1.8rem; color: #2E5C8A; margin-bottom: 50px; line-height: 1.6; font-weight: 600;">
          Service has been added successfully!
        </p>
        <button onclick="closeSuccessModal()" style="background: linear-gradient(135deg, #2E5C8A, #4A7BB0); color: white; border: none; padding: 25px 50px; border-radius: 25px; font-size: 1.5rem; font-weight: 700; cursor: pointer; min-width: 180px; box-shadow: 0 6px 15px rgba(46, 92, 138, 0.4); transition: all 0.3s ease; text-transform: uppercase;">OK</button>
      </div>
    </div>
  </div>

  <script>
    let currentText = "";
    let selectedDate = "";

    function generateCalendar() {
      const now = new Date();
      const year = now.getFullYear();
      const month = now.getMonth() + 1; // getMonth() returns 0-11, we need 1-12
      
      // Month names for display
      const monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
      ];
      
      // Set month title
      document.getElementById("month-title").textContent = `${monthNames[month - 1]} ${year}`;
      
      // Get first day of month and number of days
      const firstDay = new Date(year, month - 1, 1);
      const lastDay = new Date(year, month, 0);
      const daysInMonth = lastDay.getDate();
      
      // Get day of week for first day (0 = Sunday, 1 = Monday, etc.)
      // Convert to Monday = 0, Sunday = 6 for our calendar
      let startDayOfWeek = firstDay.getDay();
      startDayOfWeek = startDayOfWeek === 0 ? 6 : startDayOfWeek - 1;
      
      // Get calendar grid container (skip the headers)
      const calendarGrid = document.getElementById("calendar-grid");
      
      // Remove existing calendar cells (keep headers)
      const existingCells = calendarGrid.querySelectorAll('.calendar-cell');
      existingCells.forEach(cell => cell.remove());
      
      // Add empty cells for days before the first day of month
      for (let i = 0; i < startDayOfWeek; i++) {
        const emptyCell = document.createElement("div");
        emptyCell.className = "calendar-cell empty";
        calendarGrid.appendChild(emptyCell);
      }
      
      // Add cells for each day of the month
      for (let day = 1; day <= daysInMonth; day++) {
        const dayCell = document.createElement("div");
        dayCell.className = "calendar-cell";
        dayCell.textContent = day;
        dayCell.onclick = () => selectDate(year, month, day);
        calendarGrid.appendChild(dayCell);
      }
    }

    function addItem(text) {
      currentText = text;
      generateCalendar(); // Generate calendar when modal opens
      document.getElementById("calendarModal").style.display = "flex";
    }

    function selectDate(year, month, day) {
      const m = String(month).padStart(2, '0');
      const d = String(day).padStart(2, '0');
      selectedDate = `${year}-${m}-${d}`;
      
      // Convert month number to month name
      const monthNames = [
        "January", "February", "March", "April", "May", "June",
        "July", "August", "September", "October", "November", "December"
      ];
      const monthName = monthNames[month - 1]; // month is 1-based, array is 0-based
      const formattedDate = `${monthName} ${day}, ${year}`;
      
      document.getElementById("calendarModal").style.display = "none";
      document.getElementById("selectedDateDisplay").textContent = formattedDate;
      showTimeModal();
    }

    function showTimeModal() {
      const container = document.getElementById("timeGrid");
      container.innerHTML = "";
      for (let h = 8; h <= 18; h++) {
        for (let m of [0, 30]) {
          const hour = String(h).padStart(2, '0');
          const min = String(m).padStart(2, '0');
          
          // Convert to 12-hour format with AM/PM
          let displayHour = h;
          let ampm = "AM";
          
          if (h === 0) {
            displayHour = 12;
            ampm = "AM";
          } else if (h === 12) {
            displayHour = 12;
            ampm = "PM";
          } else if (h > 12) {
            displayHour = h - 12;
            ampm = "PM";
          }
          
          const displayTime = `${displayHour}:${min} ${ampm}`;
          const originalTime = `${hour}:${min}`;
          
          const btn = document.createElement("button");
          btn.className = "time-button";
          btn.textContent = displayTime;
          btn.onclick = () => confirmTime(displayTime);
          container.appendChild(btn);
        }
      }
      document.getElementById("timeModal").style.display = "flex";
    }

    function confirmTime(time) {
      const fullText = `${currentText} — ${selectedDate} at ${time}`;

      const card = document.createElement("div");
      card.className = "card";

      const span = document.createElement("span");
      span.textContent = fullText;

      const btn = document.createElement("button");
      btn.className = "remove-btn";
      btn.textContent = "Remove";
      btn.onclick = () => {
        card.remove();
        saveItems();
      };

      card.appendChild(span);
      card.appendChild(btn);
      document.getElementById("cards").appendChild(card);

      document.getElementById("timeModal").style.display = "none";
      saveItems();
    }

    function closeModal(id) {
      document.getElementById(id).style.display = "none";
      currentText = "";
      selectedDate = "";
    }

    function saveItems() {
      const spans = document.querySelectorAll("#cards .card span");
      const values = Array.from(spans).map(s => s.textContent);
      sessionStorage.setItem("assist_items", JSON.stringify(values));
    }

    function loadItems() {
      const saved = sessionStorage.getItem("assist_items");
      if (!saved) return;
      const items = JSON.parse(saved);
      items.forEach(text => {
        const card = document.createElement("div");
        card.className = "card";

        const span = document.createElement("span");
        span.textContent = text;

        const btn = document.createElement("button");
        btn.className = "remove-btn";
        btn.textContent = "Remove";
        btn.onclick = () => {
          card.remove();
          saveItems();
        };

        card.appendChild(span);
        card.appendChild(btn);
        document.getElementById("cards").appendChild(card);
      });
      
      // Load saved custom assist services
      loadSavedAssistServices();
    }

    // Add Assist Service Modal Functions
    function showAddAssistModal() {
      // Check current number of custom services
      const customButtons = document.querySelectorAll('.buttons-assist .add-btn.custom-service');
      if (customButtons.length >= 4) {
        document.getElementById('limitReachedModal').style.display = 'flex';
        return;
      }

      document.getElementById('addAssistModal').style.display = 'flex';
      // Clear previous input value
      document.getElementById('assistServiceName').value = '';
      // Focus on input for better UX
      setTimeout(() => {
        document.getElementById('assistServiceName').focus();
      }, 100);
    }

    function closeAddAssistModal() {
      document.getElementById('addAssistModal').style.display = 'none';
      // Clear input value when closing
      document.getElementById('assistServiceName').value = '';
    }

    function closeLimitReachedModal() {
      document.getElementById('limitReachedModal').style.display = 'none';
    }

    function closeSuccessModal() {
      document.getElementById('successModal').style.display = 'none';
    }

    function deleteCustomService(serviceName, buttonElement) {
      // Remove the button element
      buttonElement.remove();
      
      // Remove from localStorage
      let savedServices = JSON.parse(localStorage.getItem('customAssistServices') || '[]');
      savedServices = savedServices.filter(service => service.name !== serviceName);
      localStorage.setItem('customAssistServices', JSON.stringify(savedServices));
      
      // Update layout after deletion
      updateButtonLayout();
    }

    function addNewAssistService() {
      // Check current number of custom services
      const customButtons = document.querySelectorAll('.buttons-assist .add-btn.custom-service');
      if (customButtons.length >= 4) {
        closeAddAssistModal();
        document.getElementById('limitReachedModal').style.display = 'flex';
        return;
      }

      const serviceName = document.getElementById('assistServiceName').value.trim();
      
      // Validate input
      if (!serviceName) {
        alert('Please enter a service description.');
        document.getElementById('assistServiceName').focus();
        return;
      }
      
      // Create new button for the service
      const buttonsContainer = document.querySelector('.buttons-assist');
      
      // Create new service button
      const newButton = document.createElement('button');
      newButton.className = 'add-btn custom-service';
      newButton.onclick = () => addItem(serviceName);
      newButton.innerHTML = `
        <span class="material-icons assist-btn-icon">help_outline</span>
        ${serviceName}
        <button class="delete-x" onclick="event.stopPropagation(); deleteCustomService('${serviceName}', this.parentElement);">✖</button>
      `;
      
      // Add new button to the end
      buttonsContainer.appendChild(newButton);
      
      // Save service to localStorage for persistence
      saveNewAssistService(serviceName);
      
      // Update button layout
      updateButtonLayout();
      
      // Close modal and show success message
      closeAddAssistModal();
      document.getElementById('successMessage').textContent = `${serviceName} has been added to your services!`;
      document.getElementById('successModal').style.display = 'flex';
    }

    // Function to update button layout based on number of buttons
    function updateButtonLayout() {
      const buttonsContainer = document.querySelector('.buttons-assist');
      const buttons = buttonsContainer.querySelectorAll('.add-btn');
      const buttonCount = buttons.length;
      
      // If 7 or more buttons, apply compact styling to reduce size
      if (buttonCount >= 7) {
        buttonsContainer.classList.add('compact');
        // Calculate rows needed for 2-column layout
        const rows = Math.ceil(buttonCount / 2);
        buttonsContainer.style.gridTemplateRows = `repeat(${rows}, 1fr)`;
        buttonsContainer.style.gridTemplateColumns = 'repeat(2, 1fr)';
      } else {
        buttonsContainer.classList.remove('compact');
        // Keep original 2x2 layout for 4 or fewer buttons, or 2x3 for 5-6 buttons
        if (buttonCount <= 4) {
          buttonsContainer.style.gridTemplateRows = 'repeat(2, 1fr)';
        } else {
          buttonsContainer.style.gridTemplateRows = 'repeat(3, 1fr)';
        }
        buttonsContainer.style.gridTemplateColumns = 'repeat(2, 1fr)';
      }
    }

    function saveNewAssistService(serviceName) {
      // Get existing services from localStorage
      let savedServices = JSON.parse(localStorage.getItem('customAssistServices') || '[]');
      
      // Add new service
      savedServices.push({ name: serviceName });
      
      // Save back to localStorage
      localStorage.setItem('customAssistServices', JSON.stringify(savedServices));
    }

    function loadSavedAssistServices() {
      // Get saved services from localStorage
      const savedServices = JSON.parse(localStorage.getItem('customAssistServices') || '[]');
      
      if (savedServices.length > 0) {
        const buttonsContainer = document.querySelector('.buttons-assist');
        
        // Add each saved service as a button
        savedServices.forEach(service => {
          const newButton = document.createElement('button');
          newButton.className = 'add-btn custom-service';
          newButton.onclick = () => addItem(service.name);
          newButton.innerHTML = `
            <span class="material-icons assist-btn-icon">help_outline</span>
            ${service.name}
            <button class="delete-x" onclick="event.stopPropagation(); deleteCustomService('${service.name}', this.parentElement);">✖</button>
          `;
          
          // Add to the end
          buttonsContainer.appendChild(newButton);
        });
        
        // Update layout after loading all services
        updateButtonLayout();
      }
    }
  </script>


  <!-- Emergency 911 Button - Always visible -->
  <button class="emergency-911-btn" onclick="emergency911()">
    <span class="material-icons">local_hospital</span>
    Emergency 911
  </button>

  <!-- Add Assist Button - Top left corner -->
  <button class="add-assist-btn" onclick="showAddAssistModal()">
    <span class="material-icons">add_circle</span>
    Add Assist
  </button>


  <!-- Emergency Modal -->
  <div id="emergencyModal" class="emergency-modal" style="display: none;">
    <div class="emergency-modal-content">
      <div class="emergency-header">
        <span class="material-icons emergency-icon">warning</span>
        <h2>EMERGENCY CALL</h2>
      </div>
      <div class="emergency-body">
        <p>This will call 911 emergency services immediately.</p>
        <p><strong>Are you sure you want to continue?</strong></p>
      </div>
      <div class="emergency-actions">
        <button class="emergency-btn confirm-btn" onclick="confirmEmergency()">
          <span class="material-icons">phone</span>
          YES - CALL 911 NOW
        </button>
        <button class="emergency-btn cancel-btn" onclick="closeEmergencyModal()">
          <span class="material-icons">close</span>
          CANCEL
        </button>
      </div>
    </div>
  </div>

  <!-- Emergency Follow-up Modal -->
  <div id="emergencyCallingModal" class="emergency-modal" style="display: none;">
    <div class="emergency-modal-content calling-modal">
      <div class="calling-animation">
        <div class="phone-icon">
          <span class="material-icons">phone_in_talk</span>
        </div>
        <h2 class="calling-text">Calling 911...</h2>
        <div class="loading-dots">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      </div>
      <div class="emergency-actions">
        <button class="emergency-btn confirm-btn" onclick="closeEmergencyModal()">
          <span class="material-icons">check</span>
          OK
        </button>
      </div>
    </div>
  </div>

    </div>
    <!-- Tablet frame elements -->
    <div class="tablet-home-button"></div>
    <div class="tablet-speaker tablet-speaker-top"></div>
    <div class="tablet-speaker tablet-speaker-bottom"></div>
    <div class="tablet-camera"></div>
  </div>

  <script src="script.js"></script>
  <script>
    // Update date and time display
    function updateDateTime() {
      const now = new Date();
      const options = {
        weekday: 'short',
        month: 'short',
        day: 'numeric',
        hour: 'numeric',
        minute: '2-digit',
        hour12: true
      };
      const dateTimeString = now.toLocaleDateString('en-US', options);
      document.getElementById('headerDateTime').textContent = dateTimeString;
    }

    // Update immediately and then every minute
    updateDateTime();
    setInterval(updateDateTime, 60000);
  </script>
</body>
</html>